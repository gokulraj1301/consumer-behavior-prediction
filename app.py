# -*- coding: utf-8 -*-
"""app.py

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1Erioo5P4tdWZhH0QXFrhLhUQKHzGBwxU
"""

import streamlit as st
import pickle
import numpy as np

# Load files
model = pickle.load(open('model.pkl', 'rb'))
le_gender = pickle.load(open('le_gender.pkl', 'rb'))
le_device = pickle.load(open('le_device.pkl', 'rb'))
scaler = pickle.load(open('scaler.pkl', 'rb'))

st.title("üõçÔ∏è Consumer Behavior Predictor")

# User Inputs
age = st.slider("Age", 18, 60)
gender = st.selectbox("Gender", ['Male', 'Female'])
browsing_time = st.slider("Browsing Time (min)", 0.0, 60.0, 5.0)
pages_visited = st.slider("Pages Visited", 1, 20)
device = st.selectbox("Device", ['Mobile', 'Desktop', 'Tablet'])
previous_purchases = st.slider("Previous Purchases", 0, 10)

if st.button("Predict Purchase Intent"):
    gender_encoded = le_gender.transform([gender])[0]
    device_encoded = le_device.transform([device])[0]
    input_data = np.array([[age, gender_encoded, browsing_time, pages_visited, device_encoded, previous_purchases]])
    input_scaled = scaler.transform(input_data)
    prediction = model.predict(input_scaled)[0]

    if prediction == 1:
        st.success("üü¢ Likely to purchase! Send targeted promotion.")
    else:
        st.warning("üî¥ Not likely to purchase.")